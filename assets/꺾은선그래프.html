<!DOCTYPE html>
<html>
<head>
    <title>인구 변화 그래프</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <h1>인구 변화 그래프</h1>
    <label><input type="checkbox" id="southernCheckbox" checked> 경기남부</label>
    <label><input type="checkbox" id="northernCheckbox" checked> 경기북부</label>
    <canvas id="populationChart" width="800" height="300"></canvas>
    <script>
        var ctx = document.getElementById('populationChart').getContext('2d');

        var labels = ["2005", "2006", "2007", "2008", "2009", "2010", "2011", "2012", "2013", "2014", "2015", "2016", "2017", "2018", "2019", "2020", "2021", "2022", "2023", "2024.03"];

        var data = {
            southern: [
                { label: '수원시', data: [1054619, 1082271, 1086995, 1090678, 1098449, 1104681, 1118197, 1147955, 1178509, 1209169, 1221975, 1231224, 1240480, 1242212, 1235022, 1221913, 1216965, 1225058, 1233431, 1233405] },
                { label: '용인시', data: [702007, 777849, 813653, 831305, 854054, 891708, 911494, 930058, 955907, 976883, 992396, 1008012, 1021007, 1053522, 1078591, 1090907, 1093665, 1092294, 1094561, 1097501] },
                { label: '성남시', data: [992758, 977627, 968203, 958349, 979035, 996524, 996449, 994271, 995349, 992215, 989662, 992159, 984446, 972280, 960342, 955248, 945037, 936989, 935966, 935607] },
                { label: '화성시', data: [310562, 329312, 392832, 471726, 515162, 532326, 543844, 550649, 558128, 572539, 629934, 675575, 727602, 798100, 855949, 892884, 922092, 949187, 989676, 997006] },
                { label: '부천시', data: [863397, 870183, 876569, 882037, 884976, 890875, 889500, 885949, 880907, 874745, 869165, 871785, 871674, 868106, 855685, 842788, 829846, 814315, 806356, 802533] },
                { label: '안산시', data: [697239, 723075, 734713, 741073, 739493, 753862, 759902, 758573, 762915, 761631, 753604, 744356, 731443, 717130, 707385, 706185, 700138, 690777, 681529, 679514] },
                { label: '평택시', data: [391468, 406052, 412757, 417503, 421231, 431827, 440183, 447337, 456630, 466720, 479176, 490767, 502870, 518672, 537135, 560475, 588046, 603780, 619844, 622690] },
                { label: '안양시', data: [629426, 629659, 630688, 627330, 623511, 628831, 623227, 618230, 614687, 608309, 605451, 604652, 594697, 584239, 574464, 556570, 553249, 554347, 551112, 552869] },
                { label: '시흥시', data: [397983, 403648, 405428, 408164, 413749, 421105, 421316, 420445, 422817, 424622, 429770, 434187, 451695, 483327, 508379, 533305, 543553, 546051, 556903, 557124] },
                { label: '김포시', data: [214901, 217558, 216931, 231780, 237566, 250669, 269168, 299119, 325543, 355900, 366773, 381278, 410432, 443019, 457556, 492766, 504267, 504107, 508800, 509198] },
                { label: '광주시', data: [220705, 229912, 238044, 244033, 247957, 259387, 274814, 284762, 296383, 309701, 324056, 339837, 358371, 376819, 385640, 393954, 398225, 402764, 404270, 405825] },
                { label: '광명시', data: [329716, 315945, 316354, 314317, 318154, 348214, 359950, 360004, 357707, 353839, 350717, 345403, 338633, 333114, 322494, 303068, 296471, 291160, 283124, 282116] },
                { label: '하남시', data: [134159, 136475, 139002, 145480, 150345, 152250, 150170, 147890, 146777, 150645, 168464, 212941, 234634, 256760, 274734, 295620, 322271, 328393, 332359, 331700] },
                { label: '군포시', data: [280492, 278049, 279536, 282434, 280801, 293263, 292888, 292201, 292000, 294987, 294516, 291662, 287988, 283876, 282862, 280039, 274100, 271745, 267009, 265634] },
                { label: '오산시', data: [131377, 138456, 148580, 153690, 163498, 186829, 198882, 205245, 211344, 215819, 214909, 216699, 221865, 229520, 236075, 238956, 238579, 238418, 239159, 242808] },
                { label: '이천시', data: [194130, 196763, 198790, 200392, 201285, 206920, 209025, 209339, 210579, 210824, 211062, 216831, 220021, 221585, 223349, 225418, 229854, 230134, 231265, 230758] },
                { label: '안성시', data: [160061, 163682, 168446, 175265, 177007, 184875, 188274, 188919, 190205, 190952, 189450, 192747, 193442, 194954, 195207, 198234, 200408, 200932, 202849, 204659] },
                { label: '의왕시', data: [146937, 139395, 136264, 135803, 142161, 148786, 150907, 156003, 161023, 159897, 159125, 157997, 156957, 155084, 162344, 164857, 164363, 161204, 159932, 158211] },
                { label: '양평군', data: [86137, 87088, 88780, 90948, 92529, 96950, 100631, 103331, 104873, 106774, 109785, 112880, 116698, 117670, 118374, 120174, 122539, 123704, 126741, 127268] },
                { label: '여주시', data: [105279, 106270, 108606, 109432, 110277, 111691, 111639, 111929, 111945, 113286, 114048, 114628, 115496, 115074, 114659, 115358, 115317, 116652, 118536, 118485] },
                { label: '과천시', data: [61206, 60876, 62603, 69803, 72382, 72595, 72286, 71378, 70875, 70448, 69220, 64013, 57738, 58325, 58462, 63397, 73528, 78329, 81219, 83092] }
            ],
            northern: [
                { label: '고양시', data: [910602, 919365, 935643, 950750, 951001, 962297, 973665, 981220, 1001942, 1018013, 1039839, 1051970, 1054236, 1056853, 1078859, 1090738, 1090339, 1088153, 1087607, 1084335] },
                { label: '남양주시', data: [454498, 475733, 497941, 511603, 530699, 569756, 583952, 604864, 623743, 642192, 659633, 668696, 672120, 688965, 709307, 720462, 740856, 745116, 740780, 741473] },
                { label: '파주시', data: [267607, 300059, 311625, 319395, 331504, 364223, 387273, 402126, 410158, 420526, 433052, 441019, 448524, 463122, 465612, 476272, 493503, 507448, 511530, 517863] },
                { label: '의정부시', data: [404937, 414030, 425693, 435299, 435401, 435873, 434290, 432760, 434488, 434760, 437754, 442303, 445700, 451542, 456776, 466455, 468339, 468659, 469936, 468491] },
                { label: '양주시', data: [167248, 177065, 187308, 187022, 189492, 204438, 207871, 207321, 206329, 209502, 212438, 212811, 219267, 224250, 229778, 237370, 243071, 250920, 276660, 284408] },
                { label: '구리시', data: [193532, 195054, 198238, 197438, 197132, 197879, 196341, 193745, 191029, 188202, 188155, 195153, 201459, 204977, 200755, 198856, 193351, 190210, 188634, 187809] },
                { label: '포천시', data: [162455, 165307, 166383, 168688, 168246, 169050, 168897, 168145, 167916, 167924, 167390, 167312, 165339, 163474, 161643, 159389, 160209, 160066, 157992, 157421] },
                { label: '동두천시', data: [84601, 87810, 90915, 93207, 95779, 98311, 98814, 99666, 100230, 100528, 101050, 101403, 100266, 99566, 98245, 97687, 96860, 95100, 92414, 91782] },
                { label: '가평군', data: [55370, 55540, 56462, 57984, 58540, 59916, 60356, 61788, 62037, 62290, 63085, 63517, 64016, 63936, 63462, 63380, 63268, 63235, 63488, 63451] },
                { label: '연천군', data: [47748, 46723, 46259, 46163, 46002, 45973, 45657, 46328, 46370, 46154, 46617, 46886, 46407, 45606, 44839, 44433, 43553, 43050, 42768, 42433] }
            ]
        };

        var populationChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: labels,
                datasets: [...data.southern.map(d => ({ ...d, hidden: false })), ...data.northern.map(d => ({ ...d, hidden: false }))]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: false
                    }
                }
            }
        });

        document.getElementById('southernCheckbox').addEventListener('change', updateChart);
        document.getElementById('northernCheckbox').addEventListener('change', updateChart);

        function updateChart() {
            var southernChecked = document.getElementById('southernCheckbox').checked;
            var northernChecked = document.getElementById('northernCheckbox').checked;

            populationChart.data.datasets.forEach((dataset, index) => {
                if (index < data.southern.length) {
                    dataset.hidden = !southernChecked;
                } else {
                    dataset.hidden = !northernChecked;
                }
            });

            populationChart.update();
        }
    </script>
</body>
</html>
